"use strict";var e=require("react-native"),t=require("react"),n=e.StyleSheet.create({modalContainer:{width:"100%",flex:1,justifyContent:"center",alignItems:"center",zIndex:5},containerStyle:{width:"90%",backgroundColor:"#fff",borderRadius:15,overflow:"hidden"},ConfirmButtonStyle:{paddingVertical:10,paddingHorizontal:20,alignItems:"center",justifyContent:"center",backgroundColor:"#000",borderRadius:10,top:20},buttonTextStyle:{fontSize:16,color:"#fff"},innerContainer:{flex:1,flexDirection:"row",justifyContent:"center"},highlighter:{height:50,top:100,width:"100%",backgroundColor:"rgba(0,0,0,0.1)",position:"absolute",zIndex:-1},itemContainer:{height:50,justifyContent:"center",alignItems:"center",width:"100%"},itemText:{fontSize:16,color:"#000"},listContainer:{paddingBottom:100,paddingTop:100},absolutePressItem:{position:"absolute",height:"100%",width:"100%"}});function i(e){for(var t=e.month,n=e.year,i=new Date(n,t,1),o=[];i.getMonth()===t;)o.push(i.getDate()),i.setDate(i.getDate()+1);return o}var o=function(i){var o=i.data,r=i.onScrollToIndex;i.yScrollOffset;var l=i.value,a=i.highlightedItem,u=i.itemTextStyle,h=i.itemContainerStyle,c=i.highlightedItemStyle;return t.createElement(e.View,{style:{flex:1}},t.createElement(e.FlatList,{onScroll:function(e){var t=e.nativeEvent.contentOffset.y;r(Math.round(t/50))},initialScrollIndex:null==o?void 0:o.findIndex((function(e){return e===l})),data:o,contentContainerStyle:n.listContainer,keyExtractor:function(e){return e.toString()},renderItem:function(i){var o=i.item;return t.createElement(e.View,{style:[n.itemContainer,h,{height:50}]},t.createElement(e.Text,{style:[n.itemText,u,a==o&&(c||{fontSize:20,fontWeight:"500"})]},"number"==typeof o&&o<10?"0"+o:o))},getItemLayout:function(e,t){return{length:50,offset:50*t,index:t}},showsVerticalScrollIndicator:!1,snapToInterval:50,decelerationRate:"fast"}))},r=function(i){var o=i.highlighterStyle;return t.createElement(e.View,{style:[n.highlighter,o,{height:50}]})},l=function(i){var o=i.buttonText,r=i.buttonStyle,l=i.buttonTextStyle,a=i.onConfirm;return t.createElement(e.TouchableOpacity,{onPress:a,style:[n.ConfirmButtonStyle,r],activeOpacity:.5},t.createElement(e.Text,{style:[n.buttonTextStyle,l]},o))},a=[{id:0,month:"Jan"},{id:1,month:"Feb"},{id:2,month:"Mar"},{id:3,month:"Apr"},{id:4,month:"May"},{id:5,month:"Jun"},{id:6,month:"Jul"},{id:7,month:"Aug"},{id:8,month:"Sep"},{id:9,month:"Oct"},{id:10,month:"Nov"},{id:11,month:"Dec"}];module.exports=function(u){var h,c=u.visible,d=void 0!==c&&c,m=u.animationType,g=void 0===m?"fade":m,s=u.transparent,f=void 0===s||s,y=u.onRequestClose,v=u.onBackgroundPress,S=u.defaultvalue,b=void 0===S?"".concat((new Date).getFullYear(),"-").concat((new Date).toLocaleString("en-US",{month:"short"}),"-").concat((new Date).getDate()):S,x=u.opacity,w=void 0===x?.5:x,C=u.containerStyle,I=u.modalContainer,p=u.wholeContainer,T=u.maxDate,D=void 0===T?(new Date).toISOString():T,E=u.minDate,M=void 0===E?"2000-01-01":E,F=u.onConfirm,N=u.showDays,O=void 0===N||N,Y=u.showMonth,V=void 0===Y||Y,k=u.highlighterStyle,z=u.itemContainerStyle,P=u.itemTextStyle,B=u.buttonStyle,R=u.buttonTextStyle,j=u.buttonText,q=void 0===j?"Confirm":j,J=u.highlightedItemStyle,L=new Date(D),A=new Date(M),H=null==b?void 0:b.split("-"),U=function(e){for(var t=e.minDate,n=e.maxDate,i=new Date(t).getFullYear(),o=new Date(n).getFullYear(),r=[],l=i;l<=o;l++)r.push(l);return r}({maxDate:D,minDate:M}),W=t.useState((function(){var e=Number(H[0]),t=U.indexOf(e);return-1!==t?t:U.length-1})),G=W[0],K=W[1];function Q(){return L.getFullYear()==A.getFullYear()?a.slice(A.getMonth(),L.getMonth()+1):L.getFullYear()==U[G]?a.slice(0,L.getMonth()+1):A.getFullYear()==U[G]?a.slice(A.getMonth()):a}function X(e){return L.getFullYear()===A.getFullYear()?a.slice(A.getMonth(),L.getMonth()+1):e===L.getFullYear()?a.slice(0,L.getMonth()+1):e===A.getFullYear()?a.slice(A.getMonth()):a}var Z=t.useState((function(){var e=Number(H[0]),t=H[1],n=X(e),i=n.findIndex((function(e){return e.month===t}));return-1!==i?i:n.length-1})),$=Z[0],_=Z[1],ee=Q()[$],te=i({month:null!==(h=null==ee?void 0:ee.id)&&void 0!==h?h:1,year:U[G]});var ne=function(){var e=Q()[$];if(!e)return[];var t=U[G],n=e.id;return t===L.getFullYear()&&n===L.getMonth()+1?te.slice(0,L.getDate()):t===A.getFullYear()&&n===A.getMonth()+1?te.slice(A.getDate()-1):te}(),ie=t.useState((function(){var e,t=Number(H[2]),n=X(Number(H[0])).find((function(e){return e.month===H[1]})),o=i({month:null!==(e=null==n?void 0:n.id)&&void 0!==e?e:1,year:Number(H[0])});return Math.min(t-1,o.length-1)})),oe=ie[0],re=ie[1];if(isNaN(L.getTime())||isNaN(A.getTime()))throw new Error("Date must be a valid date type");if(L<A)throw new Error("Max date must be greater than Min date");if("number"!=typeof w)throw new Error("Opacity must be of type number");var le=Q().map((function(e){return e.month}));return t.useEffect((function(){0==d&&function(){var e,t,n=H[0],o=H[1],r=H[2],l=Number(n),a=Number(r),u=U.indexOf(l);K(-1!==u?u:U.length-1);var h=X(l),c=h.findIndex((function(e){return e.month===o}));_(-1!==c?c:0);var d=null!==(e=h[c])&&void 0!==e?e:h[0],m=i({month:null!==(t=null==d?void 0:d.id)&&void 0!==t?t:1,year:l});re(Math.min(a-1,m.length-1))}()}),[d]),t.useEffect((function(){oe>=ne.length&&re(ne.length-1)}),[$,G]),t.createElement(e.Modal,{visible:d,animationType:g,transparent:f,statusBarTranslucent:!0,onRequestClose:y},t.createElement(e.View,{style:p},t.createElement(e.View,{style:[n.modalContainer,I]},t.createElement(e.View,{style:[n.containerStyle,C,{height:250}]},t.createElement(e.View,{style:n.innerContainer},1==O&&t.createElement(o,{data:ne,value:Number(H[2]),onScrollToIndex:re,highlightedItem:ne[oe],yScrollOffset:ne.length?50*(ne.length-1):0,itemContainerStyle:z,itemTextStyle:P,highlightedItemStyle:J}),V&&t.createElement(o,{data:le,value:H[1].trim(),onScrollToIndex:function(e){_(e)},highlightedItem:le[$],yScrollOffset:50*((null==le?void 0:le.length)-1),itemContainerStyle:z,itemTextStyle:P,highlightedItemStyle:J}),t.createElement(o,{data:U,onScrollToIndex:K,value:Number(H[0]),highlightedItem:U[G],yScrollOffset:50*((null==U?void 0:U.length)-1),itemContainerStyle:z,itemTextStyle:P,highlightedItemStyle:J}),t.createElement(r,{highlighterStyle:k}))),t.createElement(l,{buttonStyle:B,buttonTextStyle:R,buttonText:q,onConfirm:function(){var e;F(function(e){var t=e.year,n=e.month,i=e.day;return(void 0!==i?new Date(t,n,i):new Date(t,n,1)).toISOString()}({year:U[G],month:null!==(e=Q()[$].id)&&void 0!==e?e:1,day:0==O?void 0:ne[oe]}))}}))),t.createElement(e.Pressable,{onPress:v,style:[n.absolutePressItem,{backgroundColor:"rgba(0,0,0, ".concat(w>100?1:w<0?0:w,")")}]}))};
//# sourceMappingURL=index.js.map
