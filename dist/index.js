"use strict";var e=require("react-native"),t=require("react"),n=e.StyleSheet.create({modalContainer:{width:"100%",flex:1,justifyContent:"center",alignItems:"center",zIndex:5},containerStyle:{width:"90%",backgroundColor:"#fff",borderRadius:15,overflow:"hidden"},ConfirmButtonStyle:{paddingVertical:10,paddingHorizontal:20,alignItems:"center",justifyContent:"center",backgroundColor:"#000",borderRadius:10,top:20},buttonTextStyle:{fontSize:16,color:"#fff"},innerContainer:{flex:1,flexDirection:"row",justifyContent:"center"},highlighter:{height:50,top:100,width:"100%",backgroundColor:"rgba(0,0,0,0.1)",position:"absolute",zIndex:-1},itemContainer:{height:50,justifyContent:"center",alignItems:"center",width:"100%"},itemText:{fontSize:16,color:"#000"},listContainer:{paddingBottom:100,paddingTop:100},absolutePressItem:{position:"absolute",height:"100%",width:"100%"}});var o=function(o){var i=o.data,r=o.onScrollToIndex;o.yScrollOffset;var l=o.value,a=o.highlightedItem,u=o.itemTextStyle,d=o.itemContainerStyle,h=o.highlightedItemStyle;return t.createElement(e.View,{style:{flex:1}},t.createElement(e.FlatList,{onScroll:function(e){var t=e.nativeEvent.contentOffset.y;r(Math.round(t/50))},initialScrollIndex:null==i?void 0:i.findIndex((function(e){return e===l})),data:i,contentContainerStyle:n.listContainer,keyExtractor:function(e){return e.toString()},renderItem:function(o){var i=o.item;return t.createElement(e.View,{style:[n.itemContainer,d,{height:50}]},t.createElement(e.Text,{style:[n.itemText,u,a==i&&(h||{fontSize:20,fontWeight:"500"})]},"number"==typeof i&&i<10?"0"+i:i))},getItemLayout:function(e,t){return{length:50,offset:50*t,index:t}},showsVerticalScrollIndicator:!1,snapToInterval:50,decelerationRate:"fast"}))},i=function(o){var i=o.highlighterStyle;return t.createElement(e.View,{style:[n.highlighter,i,{height:50}]})},r=function(o){var i=o.buttonText,r=o.buttonStyle,l=o.buttonTextStyle,a=o.onConfirm;return t.createElement(e.TouchableOpacity,{onPress:a,style:[n.ConfirmButtonStyle,r],activeOpacity:.5},t.createElement(e.Text,{style:[n.buttonTextStyle,l]},i))},l=[{id:0,month:"Jan"},{id:1,month:"Feb"},{id:2,month:"Mar"},{id:3,month:"Apr"},{id:4,month:"May"},{id:5,month:"Jun"},{id:6,month:"Jul"},{id:7,month:"Aug"},{id:8,month:"Sep"},{id:9,month:"Oct"},{id:10,month:"Nov"},{id:11,month:"Dec"}];module.exports=function(a){var u,d,h,c,m=a.visible,g=void 0!==m&&m,s=a.animationType,f=void 0===s?"fade":s,y=a.transparent,S=void 0===y||y,v=a.onRequestClose,b=a.onBackgroundPress,x=a.defaultvalue,w=void 0===x?"".concat((new Date).getFullYear(),"-").concat((new Date).toLocaleString("en-US",{month:"short"}),"-").concat((new Date).getDate()):x,C=a.opacity,I=void 0===C?.5:C,p=a.containerStyle,D=a.modalContainer,T=a.wholeContainer,E=a.maxDate,M=void 0===E?(new Date).toISOString():E,F=a.minDate,O=void 0===F?"2000-01-01":F,N=a.onConfirm,V=a.showDays,Y=void 0===V||V,k=a.showMonth,z=void 0===k||k,P=a.highlighterStyle,B=a.itemContainerStyle,R=a.itemTextStyle,j=a.buttonStyle,q=a.buttonTextStyle,J=a.buttonText,L=void 0===J?"Confirm":J,A=a.highlightedItemStyle,H=new Date(M),U=new Date(O),W=null==w?void 0:w.split("-"),G=null===(u=new Date(w))||void 0===u?void 0:u.getMonth(),K=function(e){for(var t=e.minDate,n=e.maxDate,o=new Date(t).getFullYear(),i=new Date(n).getFullYear(),r=[],l=o;l<=i;l++)r.push(l);return r}({maxDate:M,minDate:O}),Q=null!==(d=null==K?void 0:K.findIndex((function(e){return e===Number(W[0])})))&&void 0!==d?d:(null==K?void 0:K.length)-1,X=he(),Z=me(),$=X.some((function(e){return e.id===G}))?G:(null==X?void 0:X.length)-1,_=null!==(h=null==Z?void 0:Z.findIndex((function(e){return e===Number(W[2])})))&&void 0!==h?h:Z.length-1,ee=t.useState(Q),te=ee[0],ne=ee[1],oe=t.useState($),ie=oe[0],re=oe[1],le=function(e){for(var t=e.month,n=e.year,o=new Date(n,t,1),i=[];o.getMonth()===t;)i.push(o.getDate()),o.setDate(o.getDate()+1);return i}({month:null===(c=he()[ie])||void 0===c?void 0:c.id,year:K[te]}),ae=t.useState(_),ue=ae[0],de=ae[1];if(isNaN(H.getTime())||isNaN(U.getTime()))throw new Error("Date must be a valid date type");if(H<U)throw new Error("Max date must be greater than Min date");if("number"!=typeof I)throw new Error("Opacity must be of type number");function he(){return H.getFullYear()==U.getFullYear()?l.slice(U.getMonth(),H.getMonth()+1):H.getFullYear()==K[te]?l.slice(0,H.getMonth()+1):U.getFullYear()==K[te]?l.slice(U.getMonth()):l}var ce=he().map((function(e){return e.month}));function me(){var e,t;return H.getFullYear()==K[te]&&H.getMonth()==(null===(e=he()[ie])||void 0===e?void 0:e.id)?le.slice(0,H.getDate()):U.getFullYear()==K[te]&&U.getMonth()==(null===(t=he()[ie])||void 0===t?void 0:t.id)?le.slice(U.getDate()-1):le}return t.useEffect((function(){0==g&&(re(H.getMonth()),de(H.getDate()-1),ne(K.length-1))}),[g]),t.createElement(e.Modal,{visible:g,animationType:f,transparent:S,statusBarTranslucent:!0,onRequestClose:v},t.createElement(e.View,{style:T},t.createElement(e.View,{style:[n.modalContainer,D]},t.createElement(e.View,{style:[n.containerStyle,p,{height:250}]},t.createElement(e.View,{style:n.innerContainer},1==Y&&t.createElement(o,{data:me(),value:Number(W[2]),onScrollToIndex:de,highlightedItem:me()[ue],yScrollOffset:50*(me().length-1),itemContainerStyle:B,itemTextStyle:R,highlightedItemStyle:A}),z&&t.createElement(o,{data:ce,value:W[1].trim(),onScrollToIndex:function(e){re(e)},highlightedItem:ce[ie],yScrollOffset:50*(ce.length-1),itemContainerStyle:B,itemTextStyle:R,highlightedItemStyle:A}),t.createElement(o,{data:K,onScrollToIndex:ne,value:Number(W[0]),highlightedItem:K[te],yScrollOffset:50*(K.length-1),itemContainerStyle:B,itemTextStyle:R,highlightedItemStyle:A}),t.createElement(i,{highlighterStyle:P}))),t.createElement(r,{buttonStyle:j,buttonTextStyle:q,buttonText:L,onConfirm:function(){N(function(e){var t=e.year,n=e.month,o=e.day;return(void 0!==o?new Date(t,n,o):new Date(t,n,1)).toISOString()}({year:K[te],month:he()[ie].id,day:0==Y?void 0:me()[ue]}))}}))),t.createElement(e.Pressable,{onPress:b,style:[n.absolutePressItem,{backgroundColor:"rgba(0,0,0, ".concat(I>100?1:I<0?0:I,")")}]}))};
//# sourceMappingURL=index.js.map
