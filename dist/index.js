"use strict";var e=require("react-native"),t=require("react"),n=e.StyleSheet.create({modalContainer:{width:"100%",flex:1,justifyContent:"center",alignItems:"center",zIndex:5},containerStyle:{width:"90%",backgroundColor:"#fff",borderRadius:15,overflow:"hidden"},ConfirmButtonStyle:{paddingVertical:10,paddingHorizontal:20,alignItems:"center",justifyContent:"center",backgroundColor:"#000",borderRadius:10,top:20},buttonTextStyle:{fontSize:16,color:"#fff"},innerContainer:{flex:1,flexDirection:"row",justifyContent:"center"},highlighter:{height:50,top:100,width:"100%",backgroundColor:"rgba(0,0,0,0.1)",position:"absolute",zIndex:-1},itemContainer:{height:50,justifyContent:"center",alignItems:"center",width:"100%"},itemText:{fontSize:16,color:"#000"},listContainer:{paddingBottom:100,paddingTop:100},absolutePressItem:{position:"absolute",height:"100%",width:"100%"}});var o=function(o){var i=o.data,l=o.onScrollToIndex;o.yScrollOffset;var r=o.value,a=o.highlightedItem,u=o.itemTextStyle,d=o.itemContainerStyle,h=o.highlightedItemStyle;return t.createElement(e.View,{style:{flex:1}},t.createElement(e.FlatList,{onScroll:function(e){var t=e.nativeEvent.contentOffset.y;l(Math.round(t/50))},initialScrollIndex:null==i?void 0:i.findIndex((function(e){return e===r})),data:i,contentContainerStyle:n.listContainer,keyExtractor:function(e){return e.toString()},renderItem:function(o){var i=o.item;return t.createElement(e.View,{style:[n.itemContainer,d,{height:50}]},t.createElement(e.Text,{style:[n.itemText,u,a==i&&(h||{fontSize:20,fontWeight:"500"})]},"number"==typeof i&&i<10?"0"+i:i))},getItemLayout:function(e,t){return{length:50,offset:50*t,index:t}},showsVerticalScrollIndicator:!1,snapToInterval:50,decelerationRate:"fast"}))},i=function(o){var i=o.highlighterStyle;return t.createElement(e.View,{style:[n.highlighter,i,{height:50}]})},l=function(o){var i=o.buttonText,l=o.buttonStyle,r=o.buttonTextStyle,a=o.onConfirm;return t.createElement(e.TouchableOpacity,{onPress:a,style:[n.ConfirmButtonStyle,l],activeOpacity:.5},t.createElement(e.Text,{style:[n.buttonTextStyle,r]},i))},r=[{id:0,month:"Jan"},{id:1,month:"Feb"},{id:2,month:"Mar"},{id:3,month:"Apr"},{id:4,month:"May"},{id:5,month:"Jun"},{id:6,month:"Jul"},{id:7,month:"Aug"},{id:8,month:"Sep"},{id:9,month:"Oct"},{id:10,month:"Nov"},{id:11,month:"Dec"}];module.exports=function(a){var u,d,h,c,m,g,s=a.visible,f=void 0!==s&&s,y=a.animationType,v=void 0===y?"fade":y,S=a.transparent,x=void 0===S||S,b=a.onRequestClose,w=a.onBackgroundPress,C=a.defaultvalue,I=void 0===C?"".concat((new Date).getFullYear(),"-").concat((new Date).toLocaleString("en-US",{month:"short"}),"-").concat((new Date).getDate()):C,p=a.opacity,D=void 0===p?.5:p,T=a.containerStyle,E=a.modalContainer,M=a.wholeContainer,F=a.maxDate,O=void 0===F?(new Date).toISOString():F,N=a.minDate,V=void 0===N?"2000-01-01":N,Y=a.onConfirm,k=a.showDays,z=void 0===k||k,P=a.showMonth,B=void 0===P||P,R=a.highlighterStyle,j=a.itemContainerStyle,q=a.itemTextStyle,J=a.buttonStyle,L=a.buttonTextStyle,A=a.buttonText,H=void 0===A?"Confirm":A,U=a.highlightedItemStyle,W=new Date(O),G=new Date(V),K=null==I?void 0:I.split("-"),Q=new Date(I).getMonth()+1,X=function(e){for(var t=e.minDate,n=e.maxDate,o=new Date(t).getFullYear(),i=new Date(n).getFullYear(),l=[],r=o;r<=i;r++)l.push(r);return l}({maxDate:O,minDate:V}),Z=X.findIndex((function(e){return e===Number(K[0])})),$=Z>=0?Z:(null==X?void 0:X.length)-1,_=t.useState($),ee=_[0],te=_[1],ne=se(),oe=ne.findIndex((function(e){return e.id===Q})),ie=oe>=0?oe:(null==ne?void 0:ne.length)-1,le=t.useState(ie),re=le[0],ae=le[1],ue=ye(),de=null!==(u=null==ue?void 0:ue.findIndex((function(e){return e===Number(K[2])})))&&void 0!==u?u:(null==ue?void 0:ue.length)-1,he=function(e){for(var t=e.month,n=e.year,o=new Date(n,t,1),i=[];o.getMonth()===t;)i.push(o.getDate()),o.setDate(o.getDate()+1);return i}({month:null===(d=se()[re])||void 0===d?void 0:d.id,year:X[ee]}),ce=t.useState(de),me=ce[0],ge=ce[1];if(isNaN(W.getTime())||isNaN(G.getTime()))throw new Error("Date must be a valid date type");if(W<G)throw new Error("Max date must be greater than Min date");if("number"!=typeof D)throw new Error("Opacity must be of type number");function se(){return W.getFullYear()==G.getFullYear()?r.slice(G.getMonth(),W.getMonth()+1):W.getFullYear()==X[ee]?r.slice(0,W.getMonth()+1):G.getFullYear()==X[ee]?r.slice(G.getMonth()):r}var fe=se().map((function(e){return e.month}));function ye(){var e,t;return W.getFullYear()==X[ee]&&W.getMonth()==(null===(e=se()[re])||void 0===e?void 0:e.id)?he.slice(0,W.getDate()):G.getFullYear()==X[ee]&&G.getMonth()==(null===(t=se()[re])||void 0===t?void 0:t.id)?he.slice(G.getDate()-1):he}return t.useEffect((function(){0==f&&(ae(W.getMonth()),ge(W.getDate()-1),te((null==X?void 0:X.length)-1))}),[f]),t.createElement(e.Modal,{visible:f,animationType:v,transparent:x,statusBarTranslucent:!0,onRequestClose:b},t.createElement(e.View,{style:M},t.createElement(e.View,{style:[n.modalContainer,E]},t.createElement(e.View,{style:[n.containerStyle,T,{height:250}]},t.createElement(e.View,{style:n.innerContainer},1==z&&t.createElement(o,{data:ye(),value:Number(K[2]),onScrollToIndex:ge,highlightedItem:ye()[me],yScrollOffset:50*((null!==(c=null===(h=ye())||void 0===h?void 0:h.length)&&void 0!==c?c:1)-1),itemContainerStyle:j,itemTextStyle:q,highlightedItemStyle:U}),B&&t.createElement(o,{data:fe,value:K[1].trim(),onScrollToIndex:function(e){ae(e)},highlightedItem:fe[re],yScrollOffset:50*((null!==(m=null==fe?void 0:fe.length)&&void 0!==m?m:1)-1),itemContainerStyle:j,itemTextStyle:q,highlightedItemStyle:U}),t.createElement(o,{data:X,onScrollToIndex:te,value:Number(K[0]),highlightedItem:X[ee],yScrollOffset:50*((null!==(g=null==X?void 0:X.length)&&void 0!==g?g:1)-1),itemContainerStyle:j,itemTextStyle:q,highlightedItemStyle:U}),t.createElement(i,{highlighterStyle:R}))),t.createElement(l,{buttonStyle:J,buttonTextStyle:L,buttonText:H,onConfirm:function(){Y(function(e){var t=e.year,n=e.month,o=e.day;return(void 0!==o?new Date(t,n,o):new Date(t,n,1)).toISOString()}({year:X[ee],month:se()[re].id,day:0==z?void 0:ye()[me]}))}}))),t.createElement(e.Pressable,{onPress:w,style:[n.absolutePressItem,{backgroundColor:"rgba(0,0,0, ".concat(D>100?1:D<0?0:D,")")}]}))};
//# sourceMappingURL=index.js.map
