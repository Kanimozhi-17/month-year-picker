"use strict";var e=require("react-native"),t=require("react"),n=e.StyleSheet.create({modalContainer:{width:"100%",flex:1,justifyContent:"center",alignItems:"center",zIndex:5},containerStyle:{width:"90%",backgroundColor:"#fff",borderRadius:15,overflow:"hidden"},ConfirmButtonStyle:{paddingVertical:10,paddingHorizontal:20,alignItems:"center",justifyContent:"center",backgroundColor:"#000",borderRadius:10,top:20},buttonTextStyle:{fontSize:16,color:"#fff"},innerContainer:{flex:1,flexDirection:"row",justifyContent:"center"},highlighter:{height:50,top:100,width:"100%",backgroundColor:"rgba(0,0,0,0.1)",position:"absolute",zIndex:-1},itemContainer:{height:50,justifyContent:"center",alignItems:"center",width:"100%"},itemText:{fontSize:16,color:"#000"},listContainer:{paddingBottom:100,paddingTop:100},absolutePressItem:{position:"absolute",height:"100%",width:"100%"}});function i(e){for(var t=e.month,n=e.year,i=new Date(n,t,1),o=[];i.getMonth()===t;)o.push(i.getDate()),i.setDate(i.getDate()+1);return o}var o=function(i){var o=i.data,r=i.onScrollToIndex;i.yScrollOffset;var l=i.value,a=i.highlightedItem,u=i.itemTextStyle,h=i.itemContainerStyle,c=i.highlightedItemStyle;return t.createElement(e.View,{style:{flex:1}},t.createElement(e.FlatList,{onScroll:function(e){var t=e.nativeEvent.contentOffset.y;r(Math.round(t/50))},initialScrollIndex:null==o?void 0:o.findIndex((function(e){return e===l})),data:o,contentContainerStyle:n.listContainer,keyExtractor:function(e){return e.toString()},renderItem:function(i){var o=i.item;return t.createElement(e.View,{style:[n.itemContainer,h,{height:50}]},t.createElement(e.Text,{style:[n.itemText,u,a==o&&(c||{fontSize:20,fontWeight:"500"})]},"number"==typeof o&&o<10?"0"+o:o))},getItemLayout:function(e,t){return{length:50,offset:50*t,index:t}},showsVerticalScrollIndicator:!1,snapToInterval:50,decelerationRate:"fast"}))},r=function(i){var o=i.highlighterStyle;return t.createElement(e.View,{style:[n.highlighter,o,{height:50}]})},l=function(i){var o=i.buttonText,r=i.buttonStyle,l=i.buttonTextStyle,a=i.onConfirm;return t.createElement(e.TouchableOpacity,{onPress:a,style:[n.ConfirmButtonStyle,r],activeOpacity:.5},t.createElement(e.Text,{style:[n.buttonTextStyle,l]},o))},a=[{id:0,month:"Jan"},{id:1,month:"Feb"},{id:2,month:"Mar"},{id:3,month:"Apr"},{id:4,month:"May"},{id:5,month:"Jun"},{id:6,month:"Jul"},{id:7,month:"Aug"},{id:8,month:"Sep"},{id:9,month:"Oct"},{id:10,month:"Nov"},{id:11,month:"Dec"}];module.exports=function(u){var h,c,d=u.visible,m=void 0!==d&&d,g=u.animationType,s=void 0===g?"fade":g,f=u.transparent,y=void 0===f||f,v=u.onRequestClose,S=u.onBackgroundPress,b=u.defaultvalue,x=void 0===b?"".concat((new Date).getFullYear(),"-").concat((new Date).toLocaleString("en-US",{month:"short"}),"-").concat((new Date).getDate()):b,w=u.opacity,C=void 0===w?.5:w,I=u.containerStyle,p=u.modalContainer,T=u.wholeContainer,D=u.maxDate,E=void 0===D?(new Date).toISOString():D,M=u.minDate,F=void 0===M?"2000-01-01":M,N=u.onConfirm,O=u.showDays,Y=void 0===O||O,V=u.showMonth,k=void 0===V||V,z=u.highlighterStyle,P=u.itemContainerStyle,B=u.itemTextStyle,R=u.buttonStyle,j=u.buttonTextStyle,q=u.buttonText,J=void 0===q?"Confirm":q,L=u.highlightedItemStyle,A=new Date(E),H=new Date(F),U=null==x?void 0:x.split("-"),W=function(e){for(var t=e.minDate,n=e.maxDate,i=new Date(t).getFullYear(),o=new Date(n).getFullYear(),r=[],l=i;l<=o;l++)r.push(l);return r}({maxDate:E,minDate:F}),G=t.useState((function(){var e=W.indexOf(Number(U[0]));return-1!==e?e:W.length-1})),K=G[0],Q=G[1];function X(){return A.getFullYear()==H.getFullYear()?a.slice(H.getMonth(),A.getMonth()+1):A.getFullYear()==W[K]?a.slice(0,A.getMonth()+1):H.getFullYear()==W[K]?a.slice(H.getMonth()):a}function Z(e){return A.getFullYear()===H.getFullYear()?a.slice(H.getMonth(),A.getMonth()+1):e===A.getFullYear()?a.slice(0,A.getMonth()+1):e===H.getFullYear()?a.slice(H.getMonth()):a}var $=Z(Number(U[0])),_=t.useState((function(){var e=$.findIndex((function(e){return e.month===U[1]}));return-1!==e?e:0})),ee=_[0],te=_[1],ne=X()[ee],ie=i({month:null!==(h=null==ne?void 0:ne.id)&&void 0!==h?h:1,year:W[K]});var oe=function(){var e=X()[ee];if(!e)return[];var t=W[K],n=e.id;return t===A.getFullYear()&&n===A.getMonth()+1?ie.slice(0,A.getDate()):t===H.getFullYear()&&n===H.getMonth()+1?ie.slice(H.getDate()-1):ie}(),re=$[ee],le=i({month:null!==(c=null==re?void 0:re.id)&&void 0!==c?c:1,year:Number(U[0])}),ae=t.useState((function(){return Math.min(Number(U[2])-1,le.length-1)})),ue=ae[0],he=ae[1];if(isNaN(A.getTime())||isNaN(H.getTime()))throw new Error("Date must be a valid date type");if(A<H)throw new Error("Max date must be greater than Min date");if("number"!=typeof C)throw new Error("Opacity must be of type number");var ce=X().map((function(e){return e.month}));return t.useEffect((function(){0==m&&function(){var e,t,n=U[0],o=U[1],r=U[2],l=Number(n),a=Number(r),u=W.indexOf(l);Q(-1!==u?u:W.length-1);var h=Z(l),c=h.findIndex((function(e){return e.month===o}));te(-1!==c?c:0);var d=null!==(e=h[c])&&void 0!==e?e:h[0],m=i({month:null!==(t=null==d?void 0:d.id)&&void 0!==t?t:1,year:l});he(Math.min(a-1,m.length-1))}()}),[m]),t.useEffect((function(){ue>=oe.length&&he(oe.length-1)}),[ee,K]),t.createElement(e.Modal,{visible:m,animationType:s,transparent:y,statusBarTranslucent:!0,onRequestClose:v},t.createElement(e.View,{style:T},t.createElement(e.View,{style:[n.modalContainer,p]},t.createElement(e.View,{style:[n.containerStyle,I,{height:250}]},t.createElement(e.View,{style:n.innerContainer},1==Y&&t.createElement(o,{data:oe,value:Number(U[2]),onScrollToIndex:he,highlightedItem:oe[ue],yScrollOffset:oe.length?50*(oe.length-1):0,itemContainerStyle:P,itemTextStyle:B,highlightedItemStyle:L}),k&&t.createElement(o,{data:ce,value:U[1].trim(),onScrollToIndex:function(e){te(e)},highlightedItem:ce[ee],yScrollOffset:50*((null==ce?void 0:ce.length)-1),itemContainerStyle:P,itemTextStyle:B,highlightedItemStyle:L}),t.createElement(o,{data:W,onScrollToIndex:Q,value:Number(U[0]),highlightedItem:W[K],yScrollOffset:50*((null==W?void 0:W.length)-1),itemContainerStyle:P,itemTextStyle:B,highlightedItemStyle:L}),t.createElement(r,{highlighterStyle:z}))),t.createElement(l,{buttonStyle:R,buttonTextStyle:j,buttonText:J,onConfirm:function(){var e;N(function(e){var t=e.year,n=e.month,i=e.day;return(void 0!==i?new Date(t,n,i):new Date(t,n,1)).toISOString()}({year:W[K],month:null!==(e=X()[ee].id)&&void 0!==e?e:1,day:0==Y?void 0:oe[ue]}))}}))),t.createElement(e.Pressable,{onPress:S,style:[n.absolutePressItem,{backgroundColor:"rgba(0,0,0, ".concat(C>100?1:C<0?0:C,")")}]}))};
//# sourceMappingURL=index.js.map
