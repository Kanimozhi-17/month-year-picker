import{StyleSheet as t,View as e,FlatList as n,Text as o,TouchableOpacity as i,Modal as r,Pressable as l}from"react-native";import a,{useState as d,useEffect as u}from"react";var h=t.create({modalContainer:{width:"100%",flex:1,justifyContent:"center",alignItems:"center",zIndex:5},containerStyle:{width:"90%",backgroundColor:"#fff",borderRadius:15,overflow:"hidden"},ConfirmButtonStyle:{paddingVertical:10,paddingHorizontal:20,alignItems:"center",justifyContent:"center",backgroundColor:"#000",borderRadius:10,top:20},buttonTextStyle:{fontSize:16,color:"#fff"},innerContainer:{flex:1,flexDirection:"row",justifyContent:"center"},highlighter:{height:50,top:100,width:"100%",backgroundColor:"rgba(0,0,0,0.1)",position:"absolute",zIndex:-1},itemContainer:{height:50,justifyContent:"center",alignItems:"center",width:"100%"},itemText:{fontSize:16,color:"#000"},listContainer:{paddingBottom:100,paddingTop:100},absolutePressItem:{position:"absolute",height:"100%",width:"100%"}});var m=function(t){var i=t.data,r=t.onScrollToIndex;t.yScrollOffset;var l=t.value,d=t.highlightedItem,u=t.itemTextStyle,m=t.itemContainerStyle,c=t.highlightedItemStyle;return a.createElement(e,{style:{flex:1}},a.createElement(n,{onScroll:function(t){var e=t.nativeEvent.contentOffset.y;r(Math.round(e/50))},initialScrollIndex:null==i?void 0:i.findIndex((function(t){return t===l})),data:i,contentContainerStyle:h.listContainer,keyExtractor:function(t){return t.toString()},renderItem:function(t){var n=t.item;return a.createElement(e,{style:[h.itemContainer,m,{height:50}]},a.createElement(o,{style:[h.itemText,u,d==n&&(c||{fontSize:20,fontWeight:"500"})]},"number"==typeof n&&n<10?"0"+n:n))},getItemLayout:function(t,e){return{length:50,offset:50*e,index:e}},showsVerticalScrollIndicator:!1,snapToInterval:50,decelerationRate:"fast"}))},c=function(t){var n=t.highlighterStyle;return a.createElement(e,{style:[h.highlighter,n,{height:50}]})},g=function(t){var e=t.buttonText,n=t.buttonStyle,r=t.buttonTextStyle,l=t.onConfirm;return a.createElement(i,{onPress:l,style:[h.ConfirmButtonStyle,n],activeOpacity:.5},a.createElement(o,{style:[h.buttonTextStyle,r]},e))},s=[{id:0,month:"Jan"},{id:1,month:"Feb"},{id:2,month:"Mar"},{id:3,month:"Apr"},{id:4,month:"May"},{id:5,month:"Jun"},{id:6,month:"Jul"},{id:7,month:"Aug"},{id:8,month:"Sep"},{id:9,month:"Oct"},{id:10,month:"Nov"},{id:11,month:"Dec"}],f=function(t){var n,o,i,f,y,v,S=t.visible,x=void 0!==S&&S,b=t.animationType,C=void 0===b?"fade":b,I=t.transparent,p=void 0===I||I,w=t.onRequestClose,D=t.onBackgroundPress,T=t.defaultvalue,E=void 0===T?"".concat((new Date).getFullYear(),"-").concat((new Date).toLocaleString("en-US",{month:"short"}),"-").concat((new Date).getDate()):T,M=t.opacity,F=void 0===M?.5:M,O=t.containerStyle,N=t.modalContainer,Y=t.wholeContainer,k=t.maxDate,z=void 0===k?(new Date).toISOString():k,B=t.minDate,P=void 0===B?"2000-01-01":B,R=t.onConfirm,j=t.showDays,J=void 0===j||j,q=t.showMonth,A=void 0===q||q,L=t.highlighterStyle,V=t.itemContainerStyle,H=t.itemTextStyle,U=t.buttonStyle,W=t.buttonTextStyle,G=t.buttonText,K=void 0===G?"Confirm":G,Q=t.highlightedItemStyle,X=new Date(z),Z=new Date(P),$=null==E?void 0:E.split("-"),_=new Date(E).getMonth()+1,tt=function(t){for(var e=t.minDate,n=t.maxDate,o=new Date(e).getFullYear(),i=new Date(n).getFullYear(),r=[],l=o;l<=i;l++)r.push(l);return r}({maxDate:z,minDate:P}),et=tt.findIndex((function(t){return t===Number($[0])})),nt=et>=0?et:(null==tt?void 0:tt.length)-1,ot=d(nt),it=ot[0],rt=ot[1],lt=St(),at=lt.findIndex((function(t){return t.id===_})),dt=at>=0?at:(null==lt?void 0:lt.length)-1,ut=d(dt),ht=ut[0],mt=ut[1],ct=bt(),gt=null!==(n=null==ct?void 0:ct.findIndex((function(t){return t===Number($[2])})))&&void 0!==n?n:(null==ct?void 0:ct.length)-1,st=function(t){for(var e=t.month,n=t.year,o=new Date(n,e,1),i=[];o.getMonth()===e;)i.push(o.getDate()),o.setDate(o.getDate()+1);return i}({month:null===(o=St()[ht])||void 0===o?void 0:o.id,year:tt[it]}),ft=d(gt),yt=ft[0],vt=ft[1];if(isNaN(X.getTime())||isNaN(Z.getTime()))throw new Error("Date must be a valid date type");if(X<Z)throw new Error("Max date must be greater than Min date");if("number"!=typeof F)throw new Error("Opacity must be of type number");function St(){return X.getFullYear()==Z.getFullYear()?s.slice(Z.getMonth(),X.getMonth()+1):X.getFullYear()==tt[it]?s.slice(0,X.getMonth()+1):Z.getFullYear()==tt[it]?s.slice(Z.getMonth()):s}var xt=St().map((function(t){return t.month}));function bt(){var t,e;return X.getFullYear()==tt[it]&&X.getMonth()==(null===(t=St()[ht])||void 0===t?void 0:t.id)?st.slice(0,X.getDate()):Z.getFullYear()==tt[it]&&Z.getMonth()==(null===(e=St()[ht])||void 0===e?void 0:e.id)?st.slice(Z.getDate()-1):st}return u((function(){0==x&&(mt(X.getMonth()),vt(X.getDate()-1),rt((null==tt?void 0:tt.length)-1))}),[x]),a.createElement(r,{visible:x,animationType:C,transparent:p,statusBarTranslucent:!0,onRequestClose:w},a.createElement(e,{style:Y},a.createElement(e,{style:[h.modalContainer,N]},a.createElement(e,{style:[h.containerStyle,O,{height:250}]},a.createElement(e,{style:h.innerContainer},1==J&&a.createElement(m,{data:bt(),value:Number($[2]),onScrollToIndex:vt,highlightedItem:bt()[yt],yScrollOffset:50*((null!==(f=null===(i=bt())||void 0===i?void 0:i.length)&&void 0!==f?f:1)-1),itemContainerStyle:V,itemTextStyle:H,highlightedItemStyle:Q}),A&&a.createElement(m,{data:xt,value:$[1].trim(),onScrollToIndex:function(t){mt(t)},highlightedItem:xt[ht],yScrollOffset:50*((null!==(y=null==xt?void 0:xt.length)&&void 0!==y?y:1)-1),itemContainerStyle:V,itemTextStyle:H,highlightedItemStyle:Q}),a.createElement(m,{data:tt,onScrollToIndex:rt,value:Number($[0]),highlightedItem:tt[it],yScrollOffset:50*((null!==(v=null==tt?void 0:tt.length)&&void 0!==v?v:1)-1),itemContainerStyle:V,itemTextStyle:H,highlightedItemStyle:Q}),a.createElement(c,{highlighterStyle:L}))),a.createElement(g,{buttonStyle:U,buttonTextStyle:W,buttonText:K,onConfirm:function(){R(function(t){var e=t.year,n=t.month,o=t.day;return(void 0!==o?new Date(e,n,o):new Date(e,n,1)).toISOString()}({year:tt[it],month:St()[ht].id,day:0==J?void 0:bt()[yt]}))}}))),a.createElement(l,{onPress:D,style:[h.absolutePressItem,{backgroundColor:"rgba(0,0,0, ".concat(F>100?1:F<0?0:F,")")}]}))};export{f as default};
//# sourceMappingURL=index.mjs.map
