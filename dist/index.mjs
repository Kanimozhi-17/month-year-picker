import{StyleSheet as t,View as e,FlatList as n,Text as o,TouchableOpacity as i,Modal as r,Pressable as l}from"react-native";import a,{useState as u,useEffect as d}from"react";var h=t.create({modalContainer:{width:"100%",flex:1,justifyContent:"center",alignItems:"center",zIndex:5},containerStyle:{width:"90%",backgroundColor:"#fff",borderRadius:15,overflow:"hidden"},ConfirmButtonStyle:{paddingVertical:10,paddingHorizontal:20,alignItems:"center",justifyContent:"center",backgroundColor:"#000",borderRadius:10,top:20},buttonTextStyle:{fontSize:16,color:"#fff"},innerContainer:{flex:1,flexDirection:"row",justifyContent:"center"},highlighter:{height:50,top:100,width:"100%",backgroundColor:"rgba(0,0,0,0.1)",position:"absolute",zIndex:-1},itemContainer:{height:50,justifyContent:"center",alignItems:"center",width:"100%"},itemText:{fontSize:16,color:"#000"},listContainer:{paddingBottom:100,paddingTop:100},absolutePressItem:{position:"absolute",height:"100%",width:"100%"}});var m=function(t){var i=t.data,r=t.onScrollToIndex;t.yScrollOffset;var l=t.value,u=t.highlightedItem,d=t.itemTextStyle,m=t.itemContainerStyle,c=t.highlightedItemStyle;return a.createElement(e,{style:{flex:1}},a.createElement(n,{onScroll:function(t){var e=t.nativeEvent.contentOffset.y;r(Math.round(e/50))},initialScrollIndex:null==i?void 0:i.findIndex((function(t){return t===l})),data:i,contentContainerStyle:h.listContainer,keyExtractor:function(t){return t.toString()},renderItem:function(t){var n=t.item;return a.createElement(e,{style:[h.itemContainer,m,{height:50}]},a.createElement(o,{style:[h.itemText,d,u==n&&(c||{fontSize:20,fontWeight:"500"})]},"number"==typeof n&&n<10?"0"+n:n))},getItemLayout:function(t,e){return{length:50,offset:50*e,index:e}},showsVerticalScrollIndicator:!1,snapToInterval:50,decelerationRate:"fast"}))},c=function(t){var n=t.highlighterStyle;return a.createElement(e,{style:[h.highlighter,n,{height:50}]})},g=function(t){var e=t.buttonText,n=t.buttonStyle,r=t.buttonTextStyle,l=t.onConfirm;return a.createElement(i,{onPress:l,style:[h.ConfirmButtonStyle,n],activeOpacity:.5},a.createElement(o,{style:[h.buttonTextStyle,r]},e))},s=[{id:0,month:"Jan"},{id:1,month:"Feb"},{id:2,month:"Mar"},{id:3,month:"Apr"},{id:4,month:"May"},{id:5,month:"Jun"},{id:6,month:"Jul"},{id:7,month:"Aug"},{id:8,month:"Sep"},{id:9,month:"Oct"},{id:10,month:"Nov"},{id:11,month:"Dec"}],f=function(t){var n,o,i,f,y,v=t.visible,S=void 0!==v&&v,b=t.animationType,x=void 0===b?"fade":b,C=t.transparent,p=void 0===C||C,I=t.onRequestClose,w=t.onBackgroundPress,D=t.defaultvalue,T=void 0===D?"".concat((new Date).getFullYear(),"-").concat((new Date).toLocaleString("en-US",{month:"short"}),"-").concat((new Date).getDate()):D,E=t.opacity,M=void 0===E?.5:E,F=t.containerStyle,O=t.modalContainer,N=t.wholeContainer,Y=t.maxDate,k=void 0===Y?(new Date).toISOString():Y,z=t.minDate,B=void 0===z?"2000-01-01":z,P=t.onConfirm,R=t.showDays,j=void 0===R||R,J=t.showMonth,q=void 0===J||J,A=t.highlighterStyle,L=t.itemContainerStyle,V=t.itemTextStyle,H=t.buttonStyle,U=t.buttonTextStyle,W=t.buttonText,G=void 0===W?"Confirm":W,K=t.highlightedItemStyle,Q=new Date(k),X=new Date(B),Z=null==T?void 0:T.split("-"),$=null===(n=new Date(T))||void 0===n?void 0:n.getMonth(),_=function(t){for(var e=t.minDate,n=t.maxDate,o=new Date(e).getFullYear(),i=new Date(n).getFullYear(),r=[],l=o;l<=i;l++)r.push(l);return r}({maxDate:k,minDate:B}),tt=null!==(o=null==_?void 0:_.findIndex((function(t){return t===Number(Z[0])})))&&void 0!==o?o:(null==_?void 0:_.length)-1,et=gt().some((function(t){return t.id===$}))?$:gt().length-1,nt=null!==(f=null===(i=ft())||void 0===i?void 0:i.findIndex((function(t){return t===Number(Z[2])})))&&void 0!==f?f:ft().length-1,ot=u(tt),it=ot[0],rt=ot[1],lt=u(et),at=lt[0],ut=lt[1],dt=function(t){for(var e=t.month,n=t.year,o=new Date(n,e,1),i=[];o.getMonth()===e;)i.push(o.getDate()),o.setDate(o.getDate()+1);return i}({month:null===(y=gt()[at])||void 0===y?void 0:y.id,year:_[it]}),ht=u(nt),mt=ht[0],ct=ht[1];if(isNaN(Q.getTime())||isNaN(X.getTime()))throw new Error("Date must be a valid date type");if(Q<X)throw new Error("Max date must be greater than Min date");if("number"!=typeof M)throw new Error("Opacity must be of type number");function gt(){return Q.getFullYear()==X.getFullYear()?s.slice(X.getMonth(),Q.getMonth()+1):Q.getFullYear()==_[it]?s.slice(0,Q.getMonth()+1):X.getFullYear()==_[it]?s.slice(X.getMonth()):s}var st=gt().map((function(t){return t.month}));function ft(){var t,e;return Q.getFullYear()==_[it]&&Q.getMonth()==(null===(t=gt()[at])||void 0===t?void 0:t.id)?dt.slice(0,Q.getDate()):X.getFullYear()==_[it]&&X.getMonth()==(null===(e=gt()[at])||void 0===e?void 0:e.id)?dt.slice(X.getDate()-1):dt}return d((function(){0==S&&(ut(Q.getMonth()),ct(Q.getDate()-1),rt(_.length-1))}),[S]),a.createElement(r,{visible:S,animationType:x,transparent:p,statusBarTranslucent:!0,onRequestClose:I},a.createElement(e,{style:N},a.createElement(e,{style:[h.modalContainer,O]},a.createElement(e,{style:[h.containerStyle,F,{height:250}]},a.createElement(e,{style:h.innerContainer},1==j&&a.createElement(m,{data:ft(),value:Number(Z[2]),onScrollToIndex:ct,highlightedItem:ft()[mt],yScrollOffset:50*(ft().length-1),itemContainerStyle:L,itemTextStyle:V,highlightedItemStyle:K}),q&&a.createElement(m,{data:st,value:Z[1].trim(),onScrollToIndex:function(t){ut(t)},highlightedItem:st[at],yScrollOffset:50*(st.length-1),itemContainerStyle:L,itemTextStyle:V,highlightedItemStyle:K}),a.createElement(m,{data:_,onScrollToIndex:rt,value:Number(Z[0]),highlightedItem:_[it],yScrollOffset:50*(_.length-1),itemContainerStyle:L,itemTextStyle:V,highlightedItemStyle:K}),a.createElement(c,{highlighterStyle:A}))),a.createElement(g,{buttonStyle:H,buttonTextStyle:U,buttonText:G,onConfirm:function(){P(function(t){var e=t.year,n=t.month,o=t.day;return(void 0!==o?new Date(e,n,o):new Date(e,n,1)).toISOString()}({year:_[it],month:gt()[at].id,day:0==j?void 0:ft()[mt]}))}}))),a.createElement(l,{onPress:w,style:[h.absolutePressItem,{backgroundColor:"rgba(0,0,0, ".concat(M>100?1:M<0?0:M,")")}]}))};export{f as default};
//# sourceMappingURL=index.mjs.map
