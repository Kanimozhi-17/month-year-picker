import{StyleSheet as t,View as e,FlatList as n,Text as o,TouchableOpacity as i,Modal as r,Pressable as a}from"react-native";import l,{useState as h,useEffect as m}from"react";var d=t.create({modalContainer:{width:"100%",flex:1,justifyContent:"center",alignItems:"center",zIndex:5},containerStyle:{width:"90%",backgroundColor:"#fff",borderRadius:15,overflow:"hidden"},ConfirmButtonStyle:{paddingVertical:10,paddingHorizontal:20,alignItems:"center",justifyContent:"center",backgroundColor:"#000",borderRadius:10,top:20},buttonTextStyle:{fontSize:16,color:"#fff"},innerContainer:{flex:1,flexDirection:"row",justifyContent:"center"},highlighter:{height:50,top:100,width:"100%",backgroundColor:"rgba(0,0,0,0.1)",position:"absolute",zIndex:-1},itemContainer:{height:50,justifyContent:"center",alignItems:"center",width:"100%"},itemText:{fontSize:16,color:"#000"},listContainer:{paddingBottom:100,paddingTop:100},absolutePressItem:{position:"absolute",height:"100%",width:"100%"}});var c=function(t){var i=t.data,r=t.onScrollToIndex;t.yScrollOffset;var a=t.highlightedItem,h=t.itemTextStyle,m=t.itemContainerStyle,c=t.highlightedItemStyle;return l.createElement(e,{style:{flex:1}},l.createElement(n,{onScroll:function(t){var e=t.nativeEvent.contentOffset.y;r(Math.round(e/50))},initialScrollIndex:i.length-1,data:i,contentContainerStyle:d.listContainer,keyExtractor:function(t){return t.toString()},renderItem:function(t){var n=t.item;return l.createElement(e,{style:[d.itemContainer,m,{height:50}]},l.createElement(o,{style:[d.itemText,h,a==n&&(c||{fontSize:20,fontWeight:"500"})]},"number"==typeof n&&n<10?"0"+n:n))},getItemLayout:function(t,e){return{length:50,offset:50*e,index:e}},showsVerticalScrollIndicator:!1,snapToInterval:50,decelerationRate:"fast"}))},g=function(t){var n=t.highlighterStyle;return l.createElement(e,{style:[d.highlighter,n,{height:50}]})},u=function(t){var e=t.buttonText,n=t.buttonStyle,r=t.buttonTextStyle,a=t.onConfirm;return l.createElement(i,{onPress:a,style:[d.ConfirmButtonStyle,n],activeOpacity:.5},l.createElement(o,{style:[d.buttonTextStyle,r]},e))},s=[{id:0,month:"Jan"},{id:1,month:"Feb"},{id:2,month:"Mar"},{id:3,month:"Apr"},{id:4,month:"May"},{id:5,month:"Jun"},{id:6,month:"Jul"},{id:7,month:"Aug"},{id:8,month:"Sep"},{id:9,month:"Oct"},{id:10,month:"Nov"},{id:11,month:"Dec"}],y=function(t){var n,o=t.visible,i=void 0!==o&&o,y=t.animationType,f=void 0===y?"fade":y,S=t.transparent,v=void 0===S||S,x=t.onRequestClose,b=t.onBackgroundPress,C=t.opacity,p=void 0===C?.5:C,I=t.containerStyle,T=t.modalContainer,w=t.wholeContainer,D=t.maxDate,E=void 0===D?(new Date).toISOString():D,M=t.minDate,O=void 0===M?"2000-01-01":M,F=t.onConfirm,Y=t.showDays,k=void 0===Y||Y,z=t.showMonth,B=void 0===z||z,N=t.highlighterStyle,P=t.itemContainerStyle,R=t.itemTextStyle,j=t.buttonStyle,J=t.buttonTextStyle,q=t.buttonText,A=void 0===q?"Confirm":q,V=t.highlightedItemStyle,H=new Date(E),L=new Date(O),W=function(t){for(var e=t.minDate,n=t.maxDate,o=new Date(e).getFullYear(),i=new Date(n).getFullYear(),r=[],a=o;a<=i;a++)r.push(a);return r}({maxDate:E,minDate:O}),G=h(W.length-1),K=G[0],Q=G[1],U=h(nt().length-1),X=U[0],Z=U[1],$=function(t){for(var e=t.month,n=t.year,o=new Date(n,e,1),i=[];o.getMonth()===e;)i.push(o.getDate()),o.setDate(o.getDate()+1);return i}({month:null===(n=nt()[X])||void 0===n?void 0:n.id,year:W[K]}),_=h(it().length-1),tt=_[0],et=_[1];if(isNaN(H.getTime())||isNaN(L.getTime()))throw new Error("Date must be a valid date type");if(H<L)throw new Error("Max date must be greater than Min date");if("number"!=typeof p)throw new Error("Opacity must be of type number");function nt(){return H.getFullYear()==L.getFullYear()?s.slice(L.getMonth(),H.getMonth()+1):H.getFullYear()==W[K]?s.slice(0,H.getMonth()+1):L.getFullYear()==W[K]?s.slice(L.getMonth()):s}var ot=nt().map((function(t){return t.month}));function it(){var t,e;return H.getFullYear()==W[K]&&H.getMonth()==(null===(t=nt()[X])||void 0===t?void 0:t.id)?$.slice(0,H.getDate()):L.getFullYear()==W[K]&&L.getMonth()==(null===(e=nt()[X])||void 0===e?void 0:e.id)?$.slice(L.getDate()-1):$}return m((function(){0==i&&(Z(H.getMonth()),et(H.getDate()-1),Q(W.length-1))}),[i]),l.createElement(r,{visible:i,animationType:f,transparent:v,statusBarTranslucent:!0,onRequestClose:x},l.createElement(e,{style:w},l.createElement(e,{style:[d.modalContainer,T]},l.createElement(e,{style:[d.containerStyle,I,{height:250}]},l.createElement(e,{style:d.innerContainer},1==k&&l.createElement(c,{data:it(),onScrollToIndex:et,highlightedItem:it()[tt],yScrollOffset:50*(it().length-1),itemContainerStyle:P,itemTextStyle:R,highlightedItemStyle:V}),B&&l.createElement(c,{data:ot,onScrollToIndex:function(t){Z(t)},highlightedItem:ot[X],yScrollOffset:50*(ot.length-1),itemContainerStyle:P,itemTextStyle:R,highlightedItemStyle:V}),l.createElement(c,{data:W,onScrollToIndex:Q,highlightedItem:W[K],yScrollOffset:50*(W.length-1),itemContainerStyle:P,itemTextStyle:R,highlightedItemStyle:V}),l.createElement(g,{highlighterStyle:N}))),l.createElement(u,{buttonStyle:j,buttonTextStyle:J,buttonText:A,onConfirm:function(){F(function(t){var e=t.year,n=t.month,o=t.day;return(void 0!==o?new Date(e,n,o):new Date(e,n,1)).toISOString()}({year:W[K],month:nt()[X].id,day:0==k?void 0:it()[tt]}))}}))),l.createElement(a,{onPress:b,style:[d.absolutePressItem,{backgroundColor:"rgba(0,0,0, ".concat(p>100?1:p<0?0:p,")")}]}))};export{y as default};
//# sourceMappingURL=index.mjs.map
