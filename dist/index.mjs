import{StyleSheet as t,View as e,FlatList as n,Text as o,TouchableOpacity as i,Modal as r,Pressable as a}from"react-native";import l,{useState as h,useEffect as m}from"react";var u=t.create({modalContainer:{width:"100%",flex:1,justifyContent:"center",alignItems:"center",zIndex:5},containerStyle:{width:"90%",backgroundColor:"#fff",borderRadius:15,overflow:"hidden"},ConfirmButtonStyle:{paddingVertical:10,paddingHorizontal:20,alignItems:"center",justifyContent:"center",backgroundColor:"#000",borderRadius:10,top:20},buttonTextStyle:{fontSize:16,color:"#fff"},innerContainer:{flex:1,flexDirection:"row",justifyContent:"center"},highlighter:{height:50,top:100,width:"100%",backgroundColor:"rgba(0,0,0,0.1)",position:"absolute",zIndex:-1},itemContainer:{height:50,justifyContent:"center",alignItems:"center",width:"100%"},itemText:{fontSize:16,color:"#000"},listContainer:{paddingBottom:100,paddingTop:100},absolutePressItem:{position:"absolute",height:"100%",width:"100%"}});var d=function(t){var i=t.data,r=t.onScrollToIndex;t.yScrollOffset;var a=t.value,h=t.highlightedItem,m=t.itemTextStyle,d=t.itemContainerStyle,c=t.highlightedItemStyle;return l.createElement(e,{style:{flex:1}},l.createElement(n,{onScroll:function(t){var e=t.nativeEvent.contentOffset.y;r(Math.round(e/50))},initialScrollIndex:null==i?void 0:i.findIndex((function(t){return t===a})),data:i,contentContainerStyle:u.listContainer,keyExtractor:function(t){return t.toString()},renderItem:function(t){var n=t.item;return l.createElement(e,{style:[u.itemContainer,d,{height:50}]},l.createElement(o,{style:[u.itemText,m,h==n&&(c||{fontSize:20,fontWeight:"500"})]},"number"==typeof n&&n<10?"0"+n:n))},getItemLayout:function(t,e){return{length:50,offset:50*e,index:e}},showsVerticalScrollIndicator:!1,snapToInterval:50,decelerationRate:"fast"}))},c=function(t){var n=t.highlighterStyle;return l.createElement(e,{style:[u.highlighter,n,{height:50}]})},g=function(t){var e=t.buttonText,n=t.buttonStyle,r=t.buttonTextStyle,a=t.onConfirm;return l.createElement(i,{onPress:a,style:[u.ConfirmButtonStyle,n],activeOpacity:.5},l.createElement(o,{style:[u.buttonTextStyle,r]},e))},s=[{id:0,month:"Jan"},{id:1,month:"Feb"},{id:2,month:"Mar"},{id:3,month:"Apr"},{id:4,month:"May"},{id:5,month:"Jun"},{id:6,month:"Jul"},{id:7,month:"Aug"},{id:8,month:"Sep"},{id:9,month:"Oct"},{id:10,month:"Nov"},{id:11,month:"Dec"}],y=function(t){var n,o,i=t.visible,y=void 0!==i&&i,f=t.animationType,S=void 0===f?"fade":f,v=t.transparent,b=void 0===v||v,x=t.onRequestClose,C=t.onBackgroundPress,p=t.defaultvalue,w=void 0===p?"".concat((new Date).getFullYear(),"-").concat((new Date).toLocaleString("en-US",{month:"short"}),"-").concat((new Date).getDate()):p,D=t.opacity,I=void 0===D?.5:D,T=t.containerStyle,E=t.modalContainer,M=t.wholeContainer,F=t.maxDate,O=void 0===F?(new Date).toISOString():F,N=t.minDate,Y=void 0===N?"2000-01-01":N,k=t.onConfirm,z=t.showDays,B=void 0===z||z,P=t.showMonth,R=void 0===P||P,j=t.highlighterStyle,J=t.itemContainerStyle,q=t.itemTextStyle,A=t.buttonStyle,L=t.buttonTextStyle,V=t.buttonText,H=void 0===V?"Confirm":V,U=t.highlightedItemStyle,W=new Date(O),G=new Date(Y),K=null==w?void 0:w.split("-"),Q=(null===(n=new Date(w))||void 0===n?void 0:n.getMonth())+1,X=function(t){for(var e=t.minDate,n=t.maxDate,o=new Date(e).getFullYear(),i=new Date(n).getFullYear(),r=[],a=o;a<=i;a++)r.push(a);return r}({maxDate:O,minDate:Y}),Z=h(Number(K[0])),$=Z[0],_=Z[1],tt=h(Q),et=tt[0],nt=tt[1],ot=function(t){for(var e=t.month,n=t.year,o=new Date(n,e,1),i=[];o.getMonth()===e;)i.push(o.getDate()),o.setDate(o.getDate()+1);return i}({month:null===(o=lt()[et])||void 0===o?void 0:o.id,year:X[$]}),it=h(Number(K[2])),rt=it[0],at=it[1];if(isNaN(W.getTime())||isNaN(G.getTime()))throw new Error("Date must be a valid date type");if(W<G)throw new Error("Max date must be greater than Min date");if("number"!=typeof I)throw new Error("Opacity must be of type number");function lt(){return W.getFullYear()==G.getFullYear()?s.slice(G.getMonth(),W.getMonth()+1):W.getFullYear()==X[$]?s.slice(0,W.getMonth()+1):G.getFullYear()==X[$]?s.slice(G.getMonth()):s}var ht=lt().map((function(t){return t.month}));function mt(){var t,e;return W.getFullYear()==X[$]&&W.getMonth()==(null===(t=lt()[et])||void 0===t?void 0:t.id)?ot.slice(0,W.getDate()):G.getFullYear()==X[$]&&G.getMonth()==(null===(e=lt()[et])||void 0===e?void 0:e.id)?ot.slice(G.getDate()-1):ot}return m((function(){0==y&&(nt(W.getMonth()),at(W.getDate()-1),_(X.length-1))}),[y]),l.createElement(r,{visible:y,animationType:S,transparent:b,statusBarTranslucent:!0,onRequestClose:x},l.createElement(e,{style:M},l.createElement(e,{style:[u.modalContainer,E]},l.createElement(e,{style:[u.containerStyle,T,{height:250}]},l.createElement(e,{style:u.innerContainer},1==B&&l.createElement(d,{data:mt(),value:Number(K[2]),onScrollToIndex:at,highlightedItem:mt()[rt],yScrollOffset:50*(mt().length-1),itemContainerStyle:J,itemTextStyle:q,highlightedItemStyle:U}),R&&l.createElement(d,{data:ht,value:K[1].trim(),onScrollToIndex:function(t){nt(t)},highlightedItem:ht[et],yScrollOffset:50*(ht.length-1),itemContainerStyle:J,itemTextStyle:q,highlightedItemStyle:U}),l.createElement(d,{data:X,onScrollToIndex:_,value:Number(K[0]),highlightedItem:X[$],yScrollOffset:50*(X.length-1),itemContainerStyle:J,itemTextStyle:q,highlightedItemStyle:U}),l.createElement(c,{highlighterStyle:j}))),l.createElement(g,{buttonStyle:A,buttonTextStyle:L,buttonText:H,onConfirm:function(){k(function(t){var e=t.year,n=t.month,o=t.day;return(void 0!==o?new Date(e,n,o):new Date(e,n,1)).toISOString()}({year:X[$],month:lt()[et].id,day:0==B?void 0:mt()[rt]}))}}))),l.createElement(a,{onPress:C,style:[u.absolutePressItem,{backgroundColor:"rgba(0,0,0, ".concat(I>100?1:I<0?0:I,")")}]}))};export{y as default};
//# sourceMappingURL=index.mjs.map
