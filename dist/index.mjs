import{StyleSheet as t,View as e,FlatList as n,Text as o,TouchableOpacity as r,Modal as i,Pressable as l}from"react-native";import a,{useState as u,useEffect as h}from"react";var m=t.create({modalContainer:{width:"100%",flex:1,justifyContent:"center",alignItems:"center",zIndex:5},containerStyle:{width:"90%",backgroundColor:"#fff",borderRadius:15,overflow:"hidden"},ConfirmButtonStyle:{paddingVertical:10,paddingHorizontal:20,alignItems:"center",justifyContent:"center",backgroundColor:"#000",borderRadius:10,top:20},buttonTextStyle:{fontSize:16,color:"#fff"},innerContainer:{flex:1,flexDirection:"row",justifyContent:"center"},highlighter:{height:50,top:100,width:"100%",backgroundColor:"rgba(0,0,0,0.1)",position:"absolute",zIndex:-1},itemContainer:{height:50,justifyContent:"center",alignItems:"center",width:"100%"},itemText:{fontSize:16,color:"#000"},listContainer:{paddingBottom:100,paddingTop:100},absolutePressItem:{position:"absolute",height:"100%",width:"100%"}});function d(t){for(var e=t.month,n=t.year,o=new Date(n,e,1),r=[];o.getMonth()===e;)r.push(o.getDate()),o.setDate(o.getDate()+1);return r}var c=function(t){var r=t.data,i=t.onScrollToIndex;t.yScrollOffset;var l=t.value,u=t.highlightedItem,h=t.itemTextStyle,d=t.itemContainerStyle,c=t.highlightedItemStyle;return a.createElement(e,{style:{flex:1}},a.createElement(n,{onScroll:function(t){var e=t.nativeEvent.contentOffset.y;i(Math.round(e/50))},initialScrollIndex:null==r?void 0:r.findIndex((function(t){return t===l})),data:r,contentContainerStyle:m.listContainer,keyExtractor:function(t){return t.toString()},renderItem:function(t){var n=t.item;return a.createElement(e,{style:[m.itemContainer,d,{height:50}]},a.createElement(o,{style:[m.itemText,h,u==n&&(c||{fontSize:20,fontWeight:"500"})]},"number"==typeof n&&n<10?"0"+n:n))},getItemLayout:function(t,e){return{length:50,offset:50*e,index:e}},showsVerticalScrollIndicator:!1,snapToInterval:50,decelerationRate:"fast"}))},g=function(t){var n=t.highlighterStyle;return a.createElement(e,{style:[m.highlighter,n,{height:50}]})},f=function(t){var e=t.buttonText,n=t.buttonStyle,i=t.buttonTextStyle,l=t.onConfirm;return a.createElement(r,{onPress:l,style:[m.ConfirmButtonStyle,n],activeOpacity:.5},a.createElement(o,{style:[m.buttonTextStyle,i]},e))},s=[{id:0,month:"Jan"},{id:1,month:"Feb"},{id:2,month:"Mar"},{id:3,month:"Apr"},{id:4,month:"May"},{id:5,month:"Jun"},{id:6,month:"Jul"},{id:7,month:"Aug"},{id:8,month:"Sep"},{id:9,month:"Oct"},{id:10,month:"Nov"},{id:11,month:"Dec"}],y=function(t){var n,o,r=t.visible,y=void 0!==r&&r,v=t.animationType,S=void 0===v?"fade":v,b=t.transparent,x=void 0===b||b,C=t.onRequestClose,p=t.onBackgroundPress,I=t.defaultvalue,w=void 0===I?"".concat((new Date).getFullYear(),"-").concat((new Date).toLocaleString("en-US",{month:"short"}),"-").concat((new Date).getDate()):I,D=t.opacity,T=void 0===D?.5:D,E=t.containerStyle,M=t.modalContainer,F=t.wholeContainer,N=t.maxDate,Y=void 0===N?(new Date).toISOString():N,O=t.minDate,k=void 0===O?"2000-01-01":O,z=t.onConfirm,B=t.showDays,P=void 0===B||B,R=t.showMonth,j=void 0===R||R,J=t.highlighterStyle,q=t.itemContainerStyle,A=t.itemTextStyle,L=t.buttonStyle,V=t.buttonTextStyle,H=t.buttonText,U=void 0===H?"Confirm":H,W=t.highlightedItemStyle,G=new Date(Y),K=new Date(k),Q=null==w?void 0:w.split("-"),X=function(t){for(var e=t.minDate,n=t.maxDate,o=new Date(e).getFullYear(),r=new Date(n).getFullYear(),i=[],l=o;l<=r;l++)i.push(l);return i}({maxDate:Y,minDate:k}),Z=u((function(){var t=X.indexOf(Number(Q[0]));return-1!==t?t:X.length-1})),$=Z[0],_=Z[1];function tt(){return G.getFullYear()==K.getFullYear()?s.slice(K.getMonth(),G.getMonth()+1):G.getFullYear()==X[$]?s.slice(0,G.getMonth()+1):K.getFullYear()==X[$]?s.slice(K.getMonth()):s}function et(t){return G.getFullYear()===K.getFullYear()?s.slice(K.getMonth(),G.getMonth()+1):t===G.getFullYear()?s.slice(0,G.getMonth()+1):t===K.getFullYear()?s.slice(K.getMonth()):s}var nt=et(Number(Q[0])),ot=u((function(){var t=nt.findIndex((function(t){return t.month===Q[1]}));return-1!==t?t:0})),rt=ot[0],it=ot[1],lt=tt()[rt],at=d({month:null!==(n=null==lt?void 0:lt.id)&&void 0!==n?n:1,year:X[$]});var ut=function(){var t=tt()[rt];if(!t)return[];var e=X[$],n=t.id;return e===G.getFullYear()&&n===G.getMonth()+1?at.slice(0,G.getDate()):e===K.getFullYear()&&n===K.getMonth()+1?at.slice(K.getDate()-1):at}(),ht=nt[rt],mt=d({month:null!==(o=null==ht?void 0:ht.id)&&void 0!==o?o:1,year:Number(Q[0])}),dt=u((function(){return Math.min(Number(Q[2])-1,mt.length-1)})),ct=dt[0],gt=dt[1];if(isNaN(G.getTime())||isNaN(K.getTime()))throw new Error("Date must be a valid date type");if(G<K)throw new Error("Max date must be greater than Min date");if("number"!=typeof T)throw new Error("Opacity must be of type number");var ft=tt().map((function(t){return t.month}));return h((function(){0==y&&function(){var t,e,n=Q[0],o=Q[1],r=Q[2],i=Number(n),l=Number(r),a=X.indexOf(i);_(-1!==a?a:X.length-1);var u=et(i),h=u.findIndex((function(t){return t.month===o}));it(-1!==h?h:0);var m=null!==(t=u[h])&&void 0!==t?t:u[0],c=d({month:null!==(e=null==m?void 0:m.id)&&void 0!==e?e:1,year:i});gt(Math.min(l-1,c.length-1))}()}),[y]),h((function(){ct>=ut.length&&gt(ut.length-1)}),[rt,$]),a.createElement(i,{visible:y,animationType:S,transparent:x,statusBarTranslucent:!0,onRequestClose:C},a.createElement(e,{style:F},a.createElement(e,{style:[m.modalContainer,M]},a.createElement(e,{style:[m.containerStyle,E,{height:250}]},a.createElement(e,{style:m.innerContainer},1==P&&a.createElement(c,{data:ut,value:Number(Q[2]),onScrollToIndex:gt,highlightedItem:ut[ct],yScrollOffset:ut.length?50*(ut.length-1):0,itemContainerStyle:q,itemTextStyle:A,highlightedItemStyle:W}),j&&a.createElement(c,{data:ft,value:Q[1].trim(),onScrollToIndex:function(t){it(t)},highlightedItem:ft[rt],yScrollOffset:50*((null==ft?void 0:ft.length)-1),itemContainerStyle:q,itemTextStyle:A,highlightedItemStyle:W}),a.createElement(c,{data:X,onScrollToIndex:_,value:Number(Q[0]),highlightedItem:X[$],yScrollOffset:50*((null==X?void 0:X.length)-1),itemContainerStyle:q,itemTextStyle:A,highlightedItemStyle:W}),a.createElement(g,{highlighterStyle:J}))),a.createElement(f,{buttonStyle:L,buttonTextStyle:V,buttonText:U,onConfirm:function(){var t;z(function(t){var e=t.year,n=t.month,o=t.day;return(void 0!==o?new Date(e,n,o):new Date(e,n,1)).toISOString()}({year:X[$],month:null!==(t=tt()[rt].id)&&void 0!==t?t:1,day:0==P?void 0:ut[ct]}))}}))),a.createElement(l,{onPress:p,style:[m.absolutePressItem,{backgroundColor:"rgba(0,0,0, ".concat(T>100?1:T<0?0:T,")")}]}))};export{y as default};
//# sourceMappingURL=index.mjs.map
