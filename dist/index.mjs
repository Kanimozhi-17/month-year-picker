import{StyleSheet as t,View as e,FlatList as n,Text as o,TouchableOpacity as i,Modal as r,Pressable as l}from"react-native";import a,{useState as u,useEffect as d}from"react";var h=t.create({modalContainer:{width:"100%",flex:1,justifyContent:"center",alignItems:"center",zIndex:5},containerStyle:{width:"90%",backgroundColor:"#fff",borderRadius:15,overflow:"hidden"},ConfirmButtonStyle:{paddingVertical:10,paddingHorizontal:20,alignItems:"center",justifyContent:"center",backgroundColor:"#000",borderRadius:10,top:20},buttonTextStyle:{fontSize:16,color:"#fff"},innerContainer:{flex:1,flexDirection:"row",justifyContent:"center"},highlighter:{height:50,top:100,width:"100%",backgroundColor:"rgba(0,0,0,0.1)",position:"absolute",zIndex:-1},itemContainer:{height:50,justifyContent:"center",alignItems:"center",width:"100%"},itemText:{fontSize:16,color:"#000"},listContainer:{paddingBottom:100,paddingTop:100},absolutePressItem:{position:"absolute",height:"100%",width:"100%"}});var m=function(t){var i=t.data,r=t.onScrollToIndex;t.yScrollOffset;var l=t.value,u=t.highlightedItem,d=t.itemTextStyle,m=t.itemContainerStyle,c=t.highlightedItemStyle;return a.createElement(e,{style:{flex:1}},a.createElement(n,{onScroll:function(t){var e=t.nativeEvent.contentOffset.y;r(Math.round(e/50))},initialScrollIndex:null==i?void 0:i.findIndex((function(t){return t===l})),data:i,contentContainerStyle:h.listContainer,keyExtractor:function(t){return t.toString()},renderItem:function(t){var n=t.item;return a.createElement(e,{style:[h.itemContainer,m,{height:50}]},a.createElement(o,{style:[h.itemText,d,u==n&&(c||{fontSize:20,fontWeight:"500"})]},"number"==typeof n&&n<10?"0"+n:n))},getItemLayout:function(t,e){return{length:50,offset:50*e,index:e}},showsVerticalScrollIndicator:!1,snapToInterval:50,decelerationRate:"fast"}))},c=function(t){var n=t.highlighterStyle;return a.createElement(e,{style:[h.highlighter,n,{height:50}]})},g=function(t){var e=t.buttonText,n=t.buttonStyle,r=t.buttonTextStyle,l=t.onConfirm;return a.createElement(i,{onPress:l,style:[h.ConfirmButtonStyle,n],activeOpacity:.5},a.createElement(o,{style:[h.buttonTextStyle,r]},e))},s=[{id:0,month:"Jan"},{id:1,month:"Feb"},{id:2,month:"Mar"},{id:3,month:"Apr"},{id:4,month:"May"},{id:5,month:"Jun"},{id:6,month:"Jul"},{id:7,month:"Aug"},{id:8,month:"Sep"},{id:9,month:"Oct"},{id:10,month:"Nov"},{id:11,month:"Dec"}],f=function(t){var n,o,i,f,y=t.visible,v=void 0!==y&&y,S=t.animationType,b=void 0===S?"fade":S,x=t.transparent,C=void 0===x||x,p=t.onRequestClose,I=t.onBackgroundPress,w=t.defaultvalue,D=void 0===w?"".concat((new Date).getFullYear(),"-").concat((new Date).toLocaleString("en-US",{month:"short"}),"-").concat((new Date).getDate()):w,T=t.opacity,E=void 0===T?.5:T,M=t.containerStyle,F=t.modalContainer,O=t.wholeContainer,N=t.maxDate,Y=void 0===N?(new Date).toISOString():N,k=t.minDate,z=void 0===k?"2000-01-01":k,B=t.onConfirm,P=t.showDays,R=void 0===P||P,j=t.showMonth,J=void 0===j||j,q=t.highlighterStyle,A=t.itemContainerStyle,L=t.itemTextStyle,V=t.buttonStyle,H=t.buttonTextStyle,U=t.buttonText,W=void 0===U?"Confirm":U,G=t.highlightedItemStyle,K=new Date(Y),Q=new Date(z),X=null==D?void 0:D.split("-"),Z=null===(n=new Date(D))||void 0===n?void 0:n.getMonth(),$=function(t){for(var e=t.minDate,n=t.maxDate,o=new Date(e).getFullYear(),i=new Date(n).getFullYear(),r=[],l=o;l<=i;l++)r.push(l);return r}({maxDate:Y,minDate:z}),_=null!==(o=null==$?void 0:$.findIndex((function(t){return t===Number(X[0])})))&&void 0!==o?o:(null==$?void 0:$.length)-1,tt=st(),et=yt(),nt=tt.some((function(t){return t.id===Z}))?Z:(null==tt?void 0:tt.length)-1,ot=null!==(i=null==et?void 0:et.findIndex((function(t){return t===Number(X[2])})))&&void 0!==i?i:et.length-1,it=u(_),rt=it[0],lt=it[1],at=u(nt),ut=at[0],dt=at[1],ht=function(t){for(var e=t.month,n=t.year,o=new Date(n,e,1),i=[];o.getMonth()===e;)i.push(o.getDate()),o.setDate(o.getDate()+1);return i}({month:null===(f=st()[ut])||void 0===f?void 0:f.id,year:$[rt]}),mt=u(ot),ct=mt[0],gt=mt[1];if(isNaN(K.getTime())||isNaN(Q.getTime()))throw new Error("Date must be a valid date type");if(K<Q)throw new Error("Max date must be greater than Min date");if("number"!=typeof E)throw new Error("Opacity must be of type number");function st(){return K.getFullYear()==Q.getFullYear()?s.slice(Q.getMonth(),K.getMonth()+1):K.getFullYear()==$[rt]?s.slice(0,K.getMonth()+1):Q.getFullYear()==$[rt]?s.slice(Q.getMonth()):s}var ft=st().map((function(t){return t.month}));function yt(){var t,e;return K.getFullYear()==$[rt]&&K.getMonth()==(null===(t=st()[ut])||void 0===t?void 0:t.id)?ht.slice(0,K.getDate()):Q.getFullYear()==$[rt]&&Q.getMonth()==(null===(e=st()[ut])||void 0===e?void 0:e.id)?ht.slice(Q.getDate()-1):ht}return d((function(){0==v&&(dt(K.getMonth()),gt(K.getDate()-1),lt($.length-1))}),[v]),a.createElement(r,{visible:v,animationType:b,transparent:C,statusBarTranslucent:!0,onRequestClose:p},a.createElement(e,{style:O},a.createElement(e,{style:[h.modalContainer,F]},a.createElement(e,{style:[h.containerStyle,M,{height:250}]},a.createElement(e,{style:h.innerContainer},1==R&&a.createElement(m,{data:yt(),value:Number(X[2]),onScrollToIndex:gt,highlightedItem:yt()[ct],yScrollOffset:50*(yt().length-1),itemContainerStyle:A,itemTextStyle:L,highlightedItemStyle:G}),J&&a.createElement(m,{data:ft,value:X[1].trim(),onScrollToIndex:function(t){dt(t)},highlightedItem:ft[ut],yScrollOffset:50*(ft.length-1),itemContainerStyle:A,itemTextStyle:L,highlightedItemStyle:G}),a.createElement(m,{data:$,onScrollToIndex:lt,value:Number(X[0]),highlightedItem:$[rt],yScrollOffset:50*($.length-1),itemContainerStyle:A,itemTextStyle:L,highlightedItemStyle:G}),a.createElement(c,{highlighterStyle:q}))),a.createElement(g,{buttonStyle:V,buttonTextStyle:H,buttonText:W,onConfirm:function(){B(function(t){var e=t.year,n=t.month,o=t.day;return(void 0!==o?new Date(e,n,o):new Date(e,n,1)).toISOString()}({year:$[rt],month:st()[ut].id,day:0==R?void 0:yt()[ct]}))}}))),a.createElement(l,{onPress:I,style:[h.absolutePressItem,{backgroundColor:"rgba(0,0,0, ".concat(E>100?1:E<0?0:E,")")}]}))};export{f as default};
//# sourceMappingURL=index.mjs.map
